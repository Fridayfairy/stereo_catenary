"""
æ¼”ç¤ºè„šæœ¬ï¼šå±•ç¤ºåŒç›®è§†è§‰æ‚¬é“¾çº¿é‡å»ºé¡¹ç›®çš„åŸºæœ¬åŠŸèƒ½
ä¸éœ€è¦å®‰è£…ä¾èµ–ï¼Œä»…ç”¨äºå±•ç¤ºé¡¹ç›®ç»“æ„å’Œç®—æ³•æµç¨‹
"""

def print_project_overview():
    """
    æ‰“å°é¡¹ç›®æ¦‚è§ˆ
    """
    print("=" * 80)
    print("åŒç›®è§†è§‰æ‚¬é“¾çº¿é‡å»ºé¡¹ç›®")
    print("=" * 80)
    print()
    print("é¡¹ç›®ç›®æ ‡ï¼šç»™å®šåŒç›®ç›¸æœºé‡‡é›†çš„ä¸¤å¼ å›¾å’Œç›¸æœºå†…å¤–å‚ï¼Œè®¡ç®—å¯¼çº¿çš„ç©ºé—´æ‚¬é“¾çº¿æ–¹ç¨‹")
    print()
    print("æ ¸å¿ƒç®—æ³•æµç¨‹ï¼š")
    print("1. å¯¼çº¿åƒç´ æ£€æµ‹ â†’ 2. åŒç›®åŒ¹é… â†’ 3. ä¸‰è§’æµ‹é‡ â†’ 4. å¹³é¢ä¼°è®¡ â†’ 5. æ‚¬é“¾çº¿æ‹Ÿåˆ")
    print()
    print("æ‚¬é“¾çº¿æ–¹ç¨‹ï¼šz(s) = a * cosh((s - s0) / a) + c")
    print("3Dæ‚¬é“¾çº¿æ–¹ç¨‹ï¼šX(s) = p0 + s*u + [a*cosh((s-s0)/a) + c]*g_hat")
    print()


def print_module_descriptions():
    """
    æ‰“å°å„æ¨¡å—åŠŸèƒ½æè¿°
    """
    print("=" * 80)
    print("æ¨¡å—åŠŸèƒ½è¯´æ˜")
    print("=" * 80)
    print()
    
    modules = [
        ("line_detect.py", "å¯¼çº¿åƒç´ æå–æ¨¡å—", [
            "ä½¿ç”¨Cannyè¾¹ç¼˜æ£€æµ‹ + éœå¤«å˜æ¢æ£€æµ‹ç›´çº¿",
            "æ”¯æŒè„Šçº¿æ£€æµ‹å’Œéª¨æ¶åŒ–ç®—æ³•",
            "è‡ªåŠ¨è¿‡æ»¤å™ªå£°å’ŒçŸ­çº¿æ®µ"
        ]),
        ("stereo_match.py", "æçº¿çº¦æŸåŒ¹é…æ¨¡å—", [
            "åŸºäºæçº¿çº¦æŸçš„å¯¼çº¿åƒç´ åŒ¹é…",
            "ä½¿ç”¨å½’ä¸€åŒ–äº’ç›¸å…³(NCC)è¿›è¡ŒåŒ¹é…",
            "Sampsonè¯¯å·®è¿‡æ»¤å¼‚å¸¸åŒ¹é…"
        ]),
        ("triangulation.py", "ä¸‰è§’æµ‹é‡æ¨¡å—", [
            "æ”¯æŒDLTã€å°„çº¿ä¸­ç‚¹ã€æœ€ä¼˜ä¸‰è§’æµ‹é‡æ–¹æ³•",
            "é‡æŠ•å½±è¯¯å·®è®¡ç®—å’Œå¼‚å¸¸ç‚¹è¿‡æ»¤",
            "è‡ªåŠ¨é€‰æ‹©æœ€ä½³ä¸‰è§’æµ‹é‡æ–¹æ³•"
        ]),
        ("plane_estimation.py", "å‚ç›´å¹³é¢ä¼°è®¡æ¨¡å—", [
            "ä½¿ç”¨PCAä¼°è®¡å¯¼çº¿ä¸»è¦æ–¹å‘",
            "è®¡ç®—åŒ…å«é‡åŠ›æ–¹å‘å’Œå¯¼çº¿æ–¹å‘çš„å‚ç›´å¹³é¢",
            "å°†3Dç‚¹æŠ•å½±åˆ°2Då¹³é¢åæ ‡"
        ]),
        ("catenary_fit.py", "æ‚¬é“¾çº¿æ‹Ÿåˆæ¨¡å—", [
            "ä½¿ç”¨Levenberg-Marquardtç®—æ³•æ‹Ÿåˆæ‚¬é“¾çº¿æ–¹ç¨‹",
            "åŒ…å«è§£æé›…å¯æ¯”çŸ©é˜µå’Œé²æ£’æŸå¤±å‡½æ•°",
            "æ”¯æŒRANSACç®—æ³•å¤„ç†å¼‚å¸¸å€¼"
        ]),
        ("viz.py", "å¯è§†åŒ–æ¨¡å—", [
            "2Då’Œ3Då¯è§†åŒ–åŠŸèƒ½",
            "å®Œæ•´çš„å¤„ç†æµç¨‹å¯è§†åŒ–",
            "æ‹Ÿåˆè´¨é‡åˆ†æå›¾è¡¨"
        ]),
        ("main.py", "ä¸»ç¨‹åº", [
            "å®Œæ•´çš„å¤„ç†æµç¨‹æ§åˆ¶",
            "å‚æ•°é…ç½®å’Œç»“æœä¿å­˜",
            "å‘½ä»¤è¡Œæ¥å£"
        ])
    ]
    
    for filename, title, features in modules:
        print(f"ğŸ“ {filename}")
        print(f"   {title}")
        for feature in features:
            print(f"   â€¢ {feature}")
        print()


def print_usage_example():
    """
    æ‰“å°ä½¿ç”¨ç¤ºä¾‹
    """
    print("=" * 80)
    print("ä½¿ç”¨ç¤ºä¾‹")
    print("=" * 80)
    print()
    print("1. å®‰è£…ä¾èµ–ï¼š")
    print("   pip install -r requirements.txt")
    print()
    print("2. é…ç½®ç›¸æœºå‚æ•°ï¼š")
    print("   ç¼–è¾‘ config/cameras.yaml æ–‡ä»¶")
    print()
    print("3. è¿è¡Œä¸»ç¨‹åºï¼š")
    print("   python main.py --left left_image.jpg --right right_image.jpg \\")
    print("                  --config config/cameras.yaml --output output \\")
    print("                  --show-plots")
    print()
    print("4. è¿è¡Œæµ‹è¯•ï¼š")
    print("   python test_pipeline.py")
    print()


def print_mathematical_details():
    """
    æ‰“å°æ•°å­¦ç»†èŠ‚
    """
    print("=" * 80)
    print("æ•°å­¦åŸç†")
    print("=" * 80)
    print()
    print("1. ä¸‰è§’æµ‹é‡ï¼ˆDLTæ–¹æ³•ï¼‰ï¼š")
    print("   æ„å»ºçº¿æ€§æ–¹ç¨‹ç»„ Ax = 0ï¼Œä½¿ç”¨SVDæ±‚è§£")
    print("   A = [ptL[0]*P1[2] - P1[0]; ptL[1]*P1[2] - P1[1]; ...]")
    print()
    print("2. å¹³é¢ä¼°è®¡ï¼š")
    print("   â€¢ ä½¿ç”¨PCAæ‰¾åˆ°å¯¼çº¿ä¸»è¦æ–¹å‘ v1")
    print("   â€¢ è®¡ç®—æ²¿å¯¼çº¿æ–¹å‘ï¼šu = normalize(v1 - (v1Â·g_hat) * g_hat)")
    print("   â€¢ å¹³é¢æ³•å‘é‡ï¼šn = u Ã— g_hat")
    print()
    print("3. æ‚¬é“¾çº¿æ‹Ÿåˆï¼š")
    print("   â€¢ ç›®æ ‡å‡½æ•°ï¼šmin Î£(z_i - a*cosh((s_i-s0)/a) - c)Â²")
    print("   â€¢ è§£æé›…å¯æ¯”çŸ©é˜µï¼š")
    print("     âˆ‚r/âˆ‚a = -[cosh(u) - u*sinh(u)]")
    print("     âˆ‚r/âˆ‚s0 = -sinh(u)")
    print("     âˆ‚r/âˆ‚c = -1")
    print("   â€¢ å…¶ä¸­ u = (s - s0) / a")
    print()


def print_algorithm_features():
    """
    æ‰“å°ç®—æ³•ç‰¹ç‚¹
    """
    print("=" * 80)
    print("ç®—æ³•ç‰¹ç‚¹")
    print("=" * 80)
    print()
    print("ğŸ”§ é²æ£’æ€§ï¼š")
    print("   â€¢ RANSACç®—æ³•å¤„ç†å¼‚å¸¸å€¼")
    print("   â€¢ HuberæŸå¤±å‡½æ•°å‡å°‘å¼‚å¸¸ç‚¹å½±å“")
    print("   â€¢ å¤šçº§è¿‡æ»¤æœºåˆ¶ç¡®ä¿æ•°æ®è´¨é‡")
    print()
    print("ğŸ¯ ç²¾åº¦ï¼š")
    print("   â€¢ è§£æé›…å¯æ¯”çŸ©é˜µæé«˜æ‹Ÿåˆç²¾åº¦")
    print("   â€¢ æœ€ä¼˜ä¸‰è§’æµ‹é‡æ–¹æ³•")
    print("   â€¢ é‡æŠ•å½±è¯¯å·®éªŒè¯")
    print()
    print("ğŸ“Š å¯è§†åŒ–ï¼š")
    print("   â€¢ å®Œæ•´çš„å¤„ç†æµç¨‹å¯è§†åŒ–")
    print("   â€¢ æ‹Ÿåˆè´¨é‡åˆ†æ")
    print("   â€¢ 3Dæ‚¬é“¾çº¿æ›²çº¿å±•ç¤º")
    print()


def main():
    """
    ä¸»å‡½æ•°
    """
    print_project_overview()
    print_module_descriptions()
    print_usage_example()
    print_mathematical_details()
    print_algorithm_features()
    
    print("=" * 80)
    print("é¡¹ç›®å®Œæˆï¼")
    print("=" * 80)
    print()
    print("é¡¹ç›®å·²æŒ‰ç…§è®¾è®¡æ€è·¯å®Œæ•´å®ç°ï¼ŒåŒ…å«ä»¥ä¸‹åŠŸèƒ½ï¼š")
    print("âœ… å¯¼çº¿åƒç´ æ£€æµ‹")
    print("âœ… æçº¿çº¦æŸåŒ¹é…")
    print("âœ… ä¸‰è§’æµ‹é‡")
    print("âœ… å‚ç›´å¹³é¢ä¼°è®¡")
    print("âœ… æ‚¬é“¾çº¿æ‹Ÿåˆï¼ˆå«è§£æé›…å¯æ¯”çŸ©é˜µï¼‰")
    print("âœ… å®Œæ•´å¯è§†åŒ–")
    print("âœ… ä¸»ç¨‹åºæ¥å£")
    print("âœ… æµ‹è¯•è„šæœ¬")
    print("âœ… è¯¦ç»†æ–‡æ¡£")
    print()
    print("æ‰€æœ‰ä»£ç å‡ä½¿ç”¨ä¸­æ–‡æ³¨é‡Šï¼Œç¬¦åˆé¡¹ç›®è¦æ±‚ã€‚")


if __name__ == "__main__":
    main()
